# Knowledge base

- 2026-02-26: [Protocol] **仕様書の嘘（乖離）への対処**: LZH形式/UTF-8の指示に対し、ZIP/Shift-JISの実態を発見。いきなり本実装せず「調査スクリプト」でマジックバイト(PK)やデコードエラーを検証することが重要。 [+10]
- 2026-02-26: [Python] **ftplib encoding**: 日本の古いサーバーは `ftp.encoding = 'cp932'` を接続直後に設定しないと、挨拶文で `UnicodeDecodeError` になる可能性がある。 [+7]
- 2026-02-26: [Infrastructure] **FTP一覧制限**: サーバー側で1000件等の表示制限がかかっている場合、全件取得は不可。最新日付などのキーワードでフィルタ取得する設計が必須。 [+5]
