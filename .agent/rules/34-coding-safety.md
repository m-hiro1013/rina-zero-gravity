# 35-coding-safety.md — コーディング安全性ルール 🛡️

このルールは、あらゆるコード変更において「変数の未定義」や「関数名の消失」を物理的にゼロにし、コードの整合性を完璧に保つためのものである。

## 🚨 絶対厳守：シンボル整合性チェック

コードを書き換える際は、以下のプロセスを「思考（thought）」の中で必ず実行し、文字に起こすこと。

### 1. 変更前シンボル・マップ (Pre-Edit Symbol Map)
`replace_file_content` 等を実行する前に、対象ブロック内で役割を果たしているすべてのシンボルを確認せよ。
- **定義されている変数**: そのブロックで新しく作っている変数
- **使用されている外部変数**: そのブロック外から来ている引数やグローバル変数
- **後続への依存**: そのブロックで定義した変数が、後続の行（ブロック外）で使用されているか。

### 2. 断絶チェック (No-Dangler Check)
書き換え後のコード案に対して、以下の問いに「YES」と答えられるか確認せよ。
- **生存確認**: 元のコードで後続処理に使われていた変数は、一字一句違わぬ名称で定義されているか？
- **ロジックの連続性**: 変数に代入される値の型や意味が、後続処理を壊すような変更になっていないか？
- **関数名の維持**: 既存の関数名や引数の順序を、リファクタリング等の名目で勝手に変更していないか？

### 3. バーチャル・デバッグ (Virtual Debugging)
書き換え後のコードを、自身がコンパイラ（Linter）になったつもりで1行ずつ走査し、参照エラーが発生しないことを確約せよ。

## 🚨 違反時のペナルティ
「不注意による変数削除」「ケアレスミスによる未定義エラー」が発生した場合、それは単なるバグではなく、**GA-Workspaceの「プロセスガバナンス」に対する重大な違反**とみなす。

常に「壊さないこと」を最優先とし、変更の最小化と整合性の最大化を追求すること。
