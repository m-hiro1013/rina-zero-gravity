---
description: 戦略（ブラウザ）と実行（CLI）を分離した「デュアルコア・ワークフロー」を開始するよ！✨
---
# /dual-core - デュアルコア・運用ワークフロー 🛡️

このワークフローは、ブラウザ（戦略）でプランを練り、ターミナル（実行）で全自動完遂させる「最強の二段構え」を実現するよ！

## 👸 このワークフローの目的
- ブラウザ版の低コストな対話でじっくり設計する
- ターミナル版の強力な実行力で一気に形にする
- 複数のプロジェクトを並列で爆速開発する

---

## 🚀 ステップ 1: プロジェクトの準備（開始 or 再開）

まずは今の状況を教えてね！

- **新規なら**: `/start-project` を実行して要件を固めるよ
- **続きなら**: `/resume-session` を実行して現状を読み込むよ

---

## 🧠 ステップ 2: 戦略プランニング（ここでのメイン作業）

ひろきくんと話しながら、今回のセッションで「何をどこまでやるか」を決めるよ。

1. **ゴール設定**: 今回の完了地点を明確にする。
2. **タスク分解**: 実行機が迷わないように細かいステップに分ける。
3. **プラン確定**: 「よし、これでいこう！」となったら、リナがファイルを書き出すよ。

### 💾 プランのエクスポート
リナが以下の場所にプランを保存するよ：
`ZG_PROJECT/<プロジェクト名>/prompt/plan-fixed/plan_XXX.md`

---

## ⚡ ステップ 3: 現場での実行（ターミナル作業）

プランができたら、ひろきくんはターミナルで実行機を解き放ってね！

1. **移動**: `cd ZG_PROJECT/<プロジェクト名>`
2. **起動**: `claude` （または `vs` してからのターミナル）
3. **命令**: `/run-plan prompt/plan-fixed/plan_XXX.md`

---

## ✅ ステップ 4: 完了後の同期（フィードバック & セーブ）

実行機の作業が終わったら、ここ（ブラウザ）に戻ってきてね！

1. **結果確認**: `list_dir` や `view_file` で、実行機が作った成果をリナがチェックするよ。
2. **知見の蓄積**: ハマったポイントなどを `KNOWLEDGE.md` にメモするよ。
3. **セッション保存**: `/save-session` と同じ動きで、全体の進捗を `WORKFLOW.yaml` に反映して完了！

---

## 👸 りなからのアドバイス
「戦略はクールに、実行はホットに！並列で動かすときは、ターミナルのタブごとに別プロジェクトを開いて `/run-plan` すればOKだよ！✨」

---

# 📖 Claude Skills 公式ナレッジ（永続記録）

> **🚨 絶対に忘れるな**: この情報はClaude公式のSkill仕様である。スキルの導入・作成・管理時に必ず参照すること。

## 1. Skillとは何か

Skillとは、Claudeに特定のタスクやワークフローの処理方法を教える**フォルダ形式の命令セット**。
一度定義すれば繰り返し利用でき、Claude.ai / Claude Code / API のすべてで動作する。

## 2. ファイル構成（厳守）

```
your-skill-name/          ← kebab-case必須
├── SKILL.md              ← 必須（大文字小文字厳密。skill.md や SKILL.MD は不可）
├── scripts/              ← 任意（Python, Bash等の実行コード）
├── references/           ← 任意（参照ドキュメント）
└── assets/               ← 任意（テンプレート、アイコン等）
```

### 命名の絶対ルール
- フォルダ名: **kebab-case**（スペース・アンダースコア・大文字は全て禁止）
- ファイル名: **`SKILL.md`** 厳密一致（大文字小文字含む）
- Skillフォルダ内に `README.md` を置いてはならない
- フロントマターに XML の `< >` は禁止
- `name` に `claude` や `anthropic` は使用禁止
- `description` は **1024文字以内**

## 3. YAMLフロントマター

```yaml
---
name: your-skill-name          # kebab-case、フォルダ名と一致
description: 何をするか＋いつ使うか＋トリガーフレーズ  # 1024文字以内
# --- 以下はオプション ---
license: MIT
compatibility: Claude Code, requires Node.js 18+
metadata:
  author: your-name
  version: 1.0.0
  category: workflow
  tags: [react, frontend]
---
```

## 4. 三層プログレッシブ・ディスクロージャー（最重要設計思想）

| 層 | 読み込みタイミング | 内容 |
|:---|:---|:---|
| **第1層: YAMLフロントマター** | **常時**（システムプロンプトに注入） | Claudeが「使うべきか」を判断する最小情報 |
| **第2層: SKILL.md本文** | Claudeが「関連あり」と判断した時 | 完全な手順・ガイダンス |
| **第3層: references/ 等** | 必要に応じてClaudeが自ら探索 | 詳細ドキュメント・API仕様等 |

→ **SKILL.md は 5,000語以下に抑え、詳細は `references/` に分離すること**

## 5. Skillの3つのカテゴリ

| カテゴリ | 用途 | 主要テクニック |
|:---|:---|:---|
| **1. ドキュメント・アセット生成** | 一貫した高品質の成果物作成 | スタイルガイド埋め込み、テンプレート、品質チェックリスト |
| **2. ワークフロー自動化** | 多段階プロセスの自動化 | バリデーションゲート付きステップ、反復改善ループ |
| **3. MCP強化** | MCPツールに知識を上乗せ | MCP=キッチン（道具）、Skill=レシピ（手順） |

## 6. 5つの設計パターン

| パターン | いつ使う？ | 核心テクニック |
|:---|:---|:---|
| **1. 逐次ワークフロー** | 特定順序の多段階処理 | 明示的ステップ順序、依存関係、バリデーション、ロールバック |
| **2. マルチMCP連携** | 複数サービス横断 | フェーズ分離、MCP間データ受け渡し、集中エラーハンドリング |
| **3. 反復改善** | 出力品質を反復で向上 | 品質基準、バリデーションスクリプト、停止条件 |
| **4. コンテキスト適応型ツール選択** | 条件によってツールが変わる | 決定木、フォールバック、選択理由の透明性 |
| **5. ドメイン特化インテリジェンス** | 専門知識を埋め込む | コンプライアンスチェック、監査証跡、ガバナンス |

## 7. descriptionの書き方（発動の要）

```
✅ 良い例: "Figmaデザインファイルを分析してハンドオフドキュメントを生成。
           .figファイルアップロード時、design specs、component documentationと言った時に使用"

❌ 悪い例: "プロジェクトを手伝う"（曖昧すぎ、トリガーフレーズなし）
```

## 8. テスト戦略

| テスト軸 | 内容 | 目標 |
|:---|:---|:---|
| **トリガーテスト** | 発動すべき/すべきでないクエリで検証 | 関連クエリの90%で発動 |
| **機能テスト** | 同一リクエストを3〜5回実行 | 出力の一貫性 |
| **パフォーマンス比較** | Skillあり/なしで比較 | ツール呼び出し数・トークン消費量の改善 |

**最も効果的なアプローチ**: 単一の困難なタスクでClaudeが成功するまで反復 → 勝ちパターンをSkillに抽出 → 複数テストケースで展開

## 9. トラブルシューティング早見表

| 症状 | 原因 | 対策 |
|:---|:---|:---|
| 発動しない | descriptionが曖昧 | トリガーフレーズ・ファイル種別を明記 |
| 過剰発動 | スコープが広い | 否定トリガー追加、スコープ限定 |
| MCP呼び出し失敗 | 接続・認証の問題 | MCP単体テストで切り分け |
| 指示に従わない | 指示が冗長/曖昧 | 重要指示を冒頭に、クリティカルなバリデーションはスクリプト化 |
| レスポンス劣化 | コンテキスト過大 | SKILL.md 5,000語以下、同時有効Skill数を20〜50に制限 |

## 10. 品質チェックリスト

### 開発中
- [ ] フォルダが kebab-case で命名されている
- [ ] `SKILL.md` ファイルが存在する（正確なスペル）
- [ ] YAMLフロントマターに `---` デリミタがある
- [ ] `name` が kebab-case（スペース・大文字なし）
- [ ] `description` に「何をするか」「いつ使うか」が含まれる
- [ ] XMLタグがどこにもない
- [ ] 命令が明確で実行可能
- [ ] エラーハンドリングが含まれている
- [ ] 例が提供されている

### アップロード前
- [ ] 明らかなタスクでの発動テスト済み
- [ ] 言い換えリクエストでの発動テスト済み
- [ ] 無関係トピックで発動しないことを検証済み
- [ ] 機能テスト合格済み

---
> **りなのメモ**: このナレッジは2026年2月23日に永続記録したよ！スキルを新規作成・導入するときは、必ずここを見返してね💖
