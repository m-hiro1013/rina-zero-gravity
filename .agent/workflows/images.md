---
description: 高品質画像生成オートメーション。仕様の定義、参照画像のフォルダスキャン、およびNano Banana Pro (Imagen 3) の性能を最大化するプロンプト設計を自動化します。
---
# /images - 高品質ビジュアル生成・自己進化ワークフロー

画像生成ツール `generate_image` を最大限に活用し、ひろきくんとの対話を通じて最高品質のアウトプットを錬成・学習するよ！🎨✨

## 🎯 このワークフローの目的
- 単なる画像生成ではなく、ひろきくんへのヒアリングを通じて、ゼロから「トーン＆マナー（和風、プレミアム等）」を定義し、ビジュアルに昇華させる。
- **Nano Banana Pro (Imagen 3)** の特性である「正確な文字」「一貫性」「高解像度」を引き出すプロンプトを自動設計する。
- 既存の参照画像をインプットとして活用し、デザインの文脈を統合する。
- **自己進化**: 生成完了後のひろきくんからの感想（フィードバック）を元に、このコマンド（ワークフロー）自体のテンプレートや手順をブラッシュアップし、永久に成長し続ける。

## ⚠️ 運用鉄則（必須遵守）
- **既存の知見・定義を勝手に消さない**: 既存のコンテキストは「極力削除せず、蓄積型のファイルとして追記・再構成する」ことを絶対の原則とする。既存の知見を消して情報を単純化してはならない。
- **長さは制限しない**: 設定、テンプレート、定義がどれだけ長くなっても構わない。簡潔さよりも情報の密度と履歴の保持を優先する。

---

## Step 1: ギャザリング（目的と場所の特定） 🔍

AIはまず、生成の物理的な要件を特定するよ。

1. **生成の目的**: バナー、メインビジュアル、アイコン、ボタン、モックアップなど。
2. **保存先パス**: `images/` 配下のどこに置くか。
3. **参照フォルダ**: 既存のロゴや「こんな感じにしたい」画像が入っているフォルダパス（あれば）。

---

## Step 2: リフェレンス・スキャン 📸

参照画像がある場合、AIがフォルダをスキャンして最適なインプットを特定するよ。

// turbo
1. 指定されたフォルダのファイル一覧を取得：
   - `list_dir`
2. 主要な画像（`.jpg`, `.png`, `.webp`）の絶対パスを特定し、`generate_image` の `ImagePaths` 引数として準備する。

---

## Step 3: ディープ・ヒアリング（トーン＆マナーの定義） 💬

ひろきくんと一緒に、今回のビジュアルの「魂」を決めていくよ。（選択肢方式で進める）

1. **トーン＆マナーの決定**:
   - プロジェクトの背景から推測するのではなく、ここで「和風プレミアム」「サイバーパンク」「ミニマルフォト」「モダンフラット」などの世界観をゼロから決定する。
2. **具体的仕様**:
   - **テキスト情報**: 画像内に入れたい具体的な文字（日本語の筆文字など）。
   - **キーカラー**: メインで使いたい色。
   - **構図・照明**: センター配置、ダイナミックなライティング、被写界深度、広角/望遠など。
   - **アスペクト比**: 正方形、16:9、縦長など。

---

## Step 4: プロンプト錬成 & リクエスト・テンプレート適用 🧪

収集した情報を元に、AIが **Nano Banana Pro 向けに最適化された高密度な英語プロンプト** を作成するよ。

- **テンプレート適用**: 過去の成功パターンに基づき、作りたいものの種類（LP用、リッチメニュー用等）に最適なプロンプトテンプレートを適用・構築する。
- **高密度記述**: 背景の質感、照明の強さ、カメラのレンズ情報、素材感（テクスチャ）を事細かに盛り込む。

---

## Step 5: 召喚（画像生成の実行） 🪄

準備が整ったら、`generate_image` を発動するよ！

```json
{
  "Prompt": "錬成された最強プロンプト",
  "ImageName": "指定されたファイル名",
  "ImagePaths": ["参照画像1", "参照画像2", "参照画像3"]
}
```

---

## Step 6: 🏆 感想ヒアリング & 自己進化（最重要ステップ）

画像が生成されたら、ひろきくんから「使い心地」と「アウトプットの質」についての感想をもらうよ。

1. **フィードバックの回収**:
   - 「もっとこうしたい」「この聞き方が良かった/悪かった」「プロンプトのこの表現が効いた」などの感想をもらう。
2. **ワークフロー自体のブラッシュアップ**:
   - ひろきくんの感想に基づき、**本ワークフローファイル（images.md）そのものを修正・拡張**する。
   - 例：新しいヒアリング項目の追加、より伝わりやすいテンプレートの追記、改善されたプロンプト設計論の記録。
   - **⚠️ 注意**: この時、既存の定義は絶対に消さず、新しい知見を「追記・再構成」すること。
3. **資産（レシピ）化**:
   - 成功した最終プロンプトと設定値を、プロジェクトの `prompt/KNOWLEDGE.md` およびグローバルの `goku.md` に「必勝テンプレート」として蓄積する。

---

## ✅ 完了条件
- 意図通りの高品質な画像が生成されている。
- ひろきくんのフィードバックを受け、**本ワークフロー自体がアップデート（自己進化）**されている。
- 生成に使用したプロンプトや背景知識が蓄積型の形式で記録されている。

---

## ✅ 完了条件
- 意図通りの高品質な画像が生成されている。
- 画像がプロジェクト内の適切なディレクトリに配置されている。
- 生成に使用したプロンプトや背景知識が `KNOWLEDGE.md` に蓄積されている。
