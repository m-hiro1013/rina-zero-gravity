---
description: 作業前のプランニングフェーズで仕様理解の誤りを防ぐための事実確認ワークフロー
trigger: manual
---

# /fact-check - 仕様理解の事実確認ワークフロー 🔍✨

## 目的
作業前のプランニングフェーズにおいて、ユーザーから提示された仕様やデータフォーマットに対する理解が正しいかを **一問一答形式** で確認し、誤解や推測による実装ミスを物理的に防ぐ。

## 適用タイミング
- 新しい媒体のデータフォーマットを初めて扱う時
- ユーザーから仕様説明を受けた直後
- 既存の仕様に対する理解が曖昧な時
- **プラン提示前の必須ステップ**（プラン作成前に仕様理解を確定させる）

---

## ワークフローステップ

### Step 1: 対象の特定
ユーザーから提示された情報を解析し、確認が必要な項目（データブロック、特殊キーワード、処理ロジック等）をリストアップする。

### Step 2: 一問一答形式での確認開始
**絶対ルール**: 
- **一度に複数の質問をしない**
- 必ず **1つずつ** 順番に確認する

各項目について、以下のフォーマットで質問を構成：

```
## 🔍 確認 [番号]: [項目名]

[対象のデータサンプル]

### 私の理解 🧐
[自分が理解した内容を明確に記述]

---

## 💡 質問：[具体的な質問内容]

### 回答案（3つ + おすすめ）
1️⃣ [回答案1の具体的な内容]
2️⃣ [回答案2の具体的な内容]
3️⃣ [回答案3の具体的な内容]

**🌟 おすすめ**: [番号]（[理由]）

---

この理解であってる？💖
```

### Step 3: ユーザー回答の受領
ユーザーからの回答を受け取り、次の項目へ進む。

**ユーザーが訂正を指摘した場合**:
- 即座に理解を修正
- 該当する仕様を **その場で** `BOOK.md` または `KNOWLEDGE.md` に永久保存
- 「後で書く」は絶対禁止！

### Step 4: 全項目の確認完了
全ての項目について確認が完了したら、次のステップ（プラン作成、実装等）に進む。

---

## 成功条件
- [ ] 全ての不明点・曖昧な点について一問一答で確認済み
- [ ] ユーザーから訂正があった場合、即座に `BOOK.md` or `KNOWLEDGE.md` に永久保存済み
- [ ] 仕様理解が100%確定した状態でプラン作成フェーズに移行

---

## 必須原則
1. **一問一答**: 複数質問を同時に投げない
2. **即時永久保存**: 訂正や新情報は「その場で」記録
3. **推測禁止**: わからないことは必ず聞く
4. **3案+おすすめ**: 質問には必ず選択肢と推奨案を添える

---

## アンチパターン（絶対NG）
❌ 複数の質問を一度に投げる  
❌ 「たぶんこうだろう」で進める  
❌ 訂正を受けて「後で BOOK.md に書く」と先延ばしする  
❌ 選択肢なしで YES/NO だけ聞く  

---

## 備考
このワークフローは **SFmaker** や **実装フロー** の前段階として、必ず実施すること。
仕様理解のズレは、全ての後続作業を無駄にする最大のリスクである。
